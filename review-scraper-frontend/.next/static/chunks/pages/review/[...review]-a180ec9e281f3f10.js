(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[451],{1544:function(a,b,c){"use strict";function d(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function e(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function h(a){d(g,e,f,h,i,"next",a)}function i(a){d(g,e,f,h,i,"throw",a)}h(void 0)})}}function f(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}c.r(b),c.d(b,{"__N_SSP":function(){return y},default:function(){return z}});var g=c(7794),h=c.n(g),i=c(1163),j=c(7294),k=c(9790),l=c(5434),m=c(7735),n=c(5893),o=(0,k.Z)("div",{target:"e3tklkn0"})({name:"1rx0vm",styles:"height:50px;font-size:12px;line-height:1.4;&>div{display:flex;justify-content:space-between;p{display:flex;align-items:center;}}&>div:nth-of-type(1){.os{svg{margin-right:4px;}}}&>div:nth-of-type(2){text-align:right;}"}),p=function(a){var b=a.os,c=a.score,d=a.version,e=a.url,f=a.length;return(0,n.jsxs)(o,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"os",children:(0,n.jsxs)("a",{href:e,target:"_blank",title:"스토어로 이동하기",children:["GooglePlay"===b?(0,n.jsx)(m.P3Q,{}):(0,n.jsx)(m.E3w,{}),(0,n.jsx)("span",{children:b})]})}),(0,n.jsxs)("p",{children:["버전: ",d]})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("span",{children:c}),(0,n.jsx)(l.MVI,{})]}),(0,n.jsxs)("p",{children:["조회된 리뷰 수: ",f]})]})]})},q=(0,k.Z)("div",{target:"e1f9pyf00"})({name:"99opuv",styles:"display:flex;flex-wrap:wrap;margin:0 20px;position:absolute;left:0;right:0;top:190px;bottom:0;.review-wrap{width:50%;height:100%;padding-bottom:20px;&:nth-of-type(1){padding-right:10px;}&:nth-of-type(2){padding-left:10px;}}.list-wrap{overflow-y:auto;height:calc(100% - 50px);}.review-list{li{margin-top:15px;padding:10px;font-size:12px;background-color:#333;border-radius:5px;&:first-of-type{margin-top:0;}&.center{padding-top:20px;padding-bottom:20px;text-align:center;}.info{display:flex;flex-wrap:wrap;padding-bottom:10px;.title{width:calc(100% - 80px);}.date{text-align:right;width:80px;}.rate{width:65px;}.author{text-align:right;width:calc(100% - 65px);word-break:break-all;}}.text{line-height:1.4;word-break:break-all;}.reply-text{margin-top:15px;padding:10px;background-color:#444;border-radius:5px;word-break:break-all;p{display:flex;justify-content:space-between;padding-bottom:5px;}}}}"}),r=function(a){var b=a.detail,c=a.reviews;return(0,n.jsxs)(q,{children:[(0,n.jsxs)("div",{className:"review-wrap",children:[(0,n.jsx)(p,{os:"GooglePlay",score:b.googlePlay.score.toFixed(1),version:b.googlePlay.version,url:b.googlePlay.url,length:c.googlePlay.length}),(0,n.jsx)("div",{className:"list-wrap",children:(0,n.jsxs)("ul",{className:"review-list",children:[0===c.googlePlay.length&&(0,n.jsx)("li",{className:"center",children:"GooglePlay 리뷰가 없습니다."}),c.googlePlay.map(function(a){var b=a._id,c=(a.name,a.os,a.review),d=c.userName,e=c.text,f=c.scoreText,g=c.date,h=c.replyText,i=c.replyDate;return(0,n.jsxs)("li",{children:[(0,n.jsxs)("div",{className:"info",children:[(0,n.jsx)("p",{className:"title"}),(0,n.jsx)("p",{className:"date",children:g})]}),(0,n.jsxs)("div",{className:"info",children:[(0,n.jsx)("p",{className:"rate",children:Array(parseInt(f,10)).fill(0).map(function(a,b){return(0,n.jsx)(l.MVI,{},f+b)})}),(0,n.jsx)("p",{className:"author",children:d})]}),(0,n.jsx)("div",{className:"text",children:e}),h&&(0,n.jsxs)("div",{className:"reply-text",children:[(0,n.jsxs)("p",{children:[(0,n.jsx)(l.g3Q,{}),i]}),h]})]},b)})]})})]}),(0,n.jsxs)("div",{className:"review-wrap",children:[(0,n.jsx)(p,{os:"AppStore",score:b.appStore.score.toFixed(1),version:b.appStore.version,url:b.appStore.url,length:c.appStore.length}),(0,n.jsx)("div",{className:"list-wrap",children:(0,n.jsxs)("ul",{className:"review-list",children:[0===c.appStore.length&&(0,n.jsx)("li",{className:"center",children:"AppStore 리뷰가 없습니다."}),c.appStore.map(function(a){var b=a._id,c=(a.name,a.os,a.review),d=c.author,e=c.title,f=c.comment,g=c.rate,h=c.date;return(0,n.jsxs)("li",{children:[(0,n.jsxs)("div",{className:"info",children:[(0,n.jsx)("p",{className:"title",children:e}),(0,n.jsx)("p",{className:"date",children:h})]}),(0,n.jsxs)("div",{className:"info",children:[(0,n.jsx)("p",{className:"rate",children:Array(parseInt(g,10)).fill(0).map(function(a,b){return(0,n.jsx)(l.MVI,{},g+b)})}),(0,n.jsx)("p",{className:"author",children:d})]}),(0,n.jsx)("div",{className:"text",children:f})]},b)})]})})]})]})},s=(0,k.Z)("label",{target:"epltgrh0"})({name:"q4i4y9",styles:"display:block;position:relative;cursor:pointer;input{position:absolute;z-index:-1;opacity:0;}span{display:flex;justify-content:center;align-items:center;width:50px;height:46px;font-size:12px;color:#666;border:1px solid #666;transition:all 0.2s;}input:focus-visible+span{outline:1px solid;}&:first-of-type span{border-radius:10% 0 0 10%;}&:last-child span{border-radius:0 10% 10% 0;}&:not(:last-child) span{border-right:none;}input:checked+span{color:#fff;background-color:#000;}@media (hover: hover){&:hover{span{color:#fff;border:1px solid #fff;}&:not(:last-child) span{border-right:none;}}&:hover+label span{border-left:1px solid #fff;}}"}),t=function(a){var b=a.type,c=a.value,d=a.onChange,e=a.checked,f="checkbox"===b,g=f?"별점".concat(c):"".concat(c,"일");return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(s,{title:g,children:[(0,n.jsx)("input",{type:b,name:f?"score":"days",value:c,checked:e,onChange:d}),(0,n.jsx)("span",{children:g})]},c)})},u=(0,k.Z)("div",{target:"e1dmyr2i0"})({name:"136gejd",styles:"position:sticky;top:50px;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;padding:20px;background-color:#222;.info{flex:1;text-align:center;max-width:100px;width:100%;img{vertical-align:top;width:100%;border-radius:10%;box-shadow:0 1px 1px rgba(0, 0, 0, 0.05),0 1px 1px rgba(0, 0, 0, 0.1);}span{display:inline-block;padding:10px 0 0;font-size:13px;}}.btns{padding-left:8px;}.score-box{display:flex;padding-bottom:4px;}.days-box{display:flex;padding-top:4px;}"}),v=["1","2","3","4","5"],w=["7","15","30","60","90"],x=function(a){var b=a.detail,c=a.selectedScore,d=a.selectedDay,e=a.changeScore,f=a.changeDays,g=b.appStore,h=g.icon,i=g.title;return(0,n.jsxs)(u,{children:[(0,n.jsx)("div",{className:"info",children:(0,n.jsx)("img",{src:h,alt:i})}),(0,n.jsxs)("div",{className:"btns",children:[(0,n.jsx)("div",{className:"score-box",children:v.map(function(a){var b=c.find(function(b){return a===b});return(0,n.jsx)(t,{type:"checkbox",value:a,onChange:e,checked:b===a},a)})}),(0,n.jsx)("div",{className:"days-box",children:w.map(function(a){return(0,n.jsx)(t,{type:"radio",value:a,onChange:f,checked:a===d},a)})})]})]})},y=!0,z=function(a){var b,c,d,g=a.detail,k=a.reviews,l=a.name,m=a.day,o=a.score,p=(0,i.useRouter)(),q=p.query.review,s=(c=3,function(a){if(Array.isArray(a))return a}(b=q)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(b,c)||function(a,b){if(a){if("string"==typeof a)return f(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return f(a,b)}}(b,c)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t=s[0],u=s[1],v=s[2];(0,j.useEffect)(function(){u&&v||p.replace("/review/".concat(t,"/").concat(m,"/").concat(o))},[]);var w,y=(d=e(h().mark(function a(b){var c,d,e;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(o!==(c=b.target.value)){a.next=3;break}return a.abrupt("return");case 3:d=o.split("").find(function(a){return a===c}),console.log("findScore:",d),e="",e=d?o.split("").filter(function(a){return a!==d}).sort().join(""):o.split("").concat(c).sort().join(""),console.log(e),p.push("/review/".concat(l,"/").concat(m,"/").concat(e));case 9:case"end":return a.stop()}},a)})),function(a){return d.apply(this,arguments)}),z=(w=e(h().mark(function a(b){return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:p.push("/review/".concat(l,"/").concat(b.target.value,"/").concat(o));case 1:case"end":return a.stop()}},a)})),function(a){return w.apply(this,arguments)});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{detail:g,selectedScore:o.split(""),selectedDay:m,changeScore:y,changeDays:z}),(0,n.jsx)(r,{detail:g,reviews:k})]})}},8758:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/review/[...review]",function(){return c(1544)}])}},function(a){a.O(0,[415,774,888,179],function(){var b;return a(a.s=8758)}),_N_E=a.O()}])